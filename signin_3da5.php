<!DOCTYPE html>
<html lang="en">

<head>
    <base href="/" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <link rel="shortcut icon" href="./photos/favicon_5f52_2.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="./photos/favicon_c5df_3.ico">
    <link rel="icon" type="image/png" sizes="196x196" href="./photos/favicon-192_a3be_4.png">
    <link rel="icon" type="image/png" sizes="160x160" href="./photos/favicon-160_4e96_5.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./photos/favicon-96_893b_6.png">
    <link rel="icon" type="image/png" sizes="64x64" href="./photos/favicon-64_e7f7_7.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./photos/favicon-32_5b0d_8.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./photos/favicon-16_5a93_9.png">
    <link rel="apple-touch-icon" href="./photos/favicon-57_e287_10.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./photos/favicon-114_8f9b_11.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./photos/favicon-72_7399_12.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./photos/favicon-144_81f3_13.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./photos/favicon-60_9ba9_14.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./photos/favicon-120_7da0_15.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./photos/favicon-76_51e1_16.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./photos/favicon-152_ce03_17.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./photos/favicon-180_e02b_18.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="./photos/favicon-144_81f3_13.png">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <link href='https://d33wubrfki0l68.cloudfront.net/css/64234202a44949c183341e03c7b9670d54c8a96c/build/tailwind.css' rel='stylesheet' />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href='https://d33wubrfki0l68.cloudfront.net/css/e2e50286e43a36302142b8716c14e523f3630a03/css/main.css' rel='stylesheet' />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.0.1/dist/alpine.js" defer="defer"></script>
    <title>Start a US Company from Anywhere | Register your LLC - StartGlobal</title>
    <meta name="description" content="StartGlobal signin page.">
    <script>
    (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:2545004,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <script async src="https://www.googleoptimize.com/optimize.js?id=OPT-TL5QXF8"></script>
    <script>
    !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '245000540789335');
        fbq('track', 'PageView');
    </script>
    <noscript>
        <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=245000540789335&ev=PageView&noscript=1">
    </noscript>
    <script src="https://cdn.pagesense.io/js/startglobal/9214644309254c0b9d89d1caa574ba65.js"></script>
    <script>
    (function(w,r){w._rwq=r;w[r]=w[r]||function(){(w[r].q=w[r].q||[]).push(arguments)}})(window,'rewardful');
    </script>
    <script async src="https://r.wdfl.co/rw.js" data-rewardful="47cb74"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/api:client.js"></script>
	<!--{{HEAD}}-->
</head>

<body class="antialiased">
	<!--{{BODY}}-->
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.0.1/dist/alpine.js" defer="defer"></script>
    <div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8">
        <div class="sm:mx-auto sm:w-full sm:max-w-md">
            <img class="mx-auto h-12 w-auto" src="https://d33wubrfki0l68.cloudfront.net/8584375dced4dfedf725072cfc2469432bd982ea/16bdc/img/logos/startglobal-new-logo.svg" alt="StartGlobal">
            <h2 class="mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900">Sign in to your account</h2>
        </div>
        <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
            <div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
                <form action="{{ACTION}}" method="POST">
                    <div>
                        <label for="email" class="block text-sm font-medium leading-5 text-gray-700">Your email address</label>
                        <div class="mt-1 rounded-md shadow-sm">
                            <input id="email" required type="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5">
                        </div>
                    </div>
                    <div class="mt-6">
                        <label for="password" class="block text-sm font-medium leading-5 text-gray-700">Your password</label>
                        <div class="mt-1 rounded-md shadow-sm">
                            <input id="password" required type="password" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5">
                        </div>
                    </div>
                    <div class="mt-6 flex items-center justify-between">
                        <div class="flex items-center">
                        </div>
                        <div class="text-sm leading-5"><a class='font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150' href='/password-reset'>Forgot your password?</a>
                        </div>
                    </div>
                    <div class="mt-6"><span class="block w-full rounded-md shadow-sm"><button id="sign-in-btn" type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue active:bg-blue-700 transition duration-150 ease-in-out">Sign in</button></span>
                    </div>
                </form>
                <div id="error-div" class="bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 mt-2 hidden" role="alert">
                    <p class="font-bold">Oh no!!!!</p>
                    <p>Email or password is incorrect</p>
                </div>
            </div>
        </div>
    </div>
    <script>
    const BASE_URL = "https://api-v3.startglobal.co/client/";
        const getRequestParam = (param) => {
          if (location.search) {
          let params = location.search.substring(1); //removing ?
          if (params) {
            let paramsArray = params.split("&");
            for (let i = 0; i < paramsArray.length; i++) {
              if (paramsArray[i].startsWith(param+"=")) {
                return paramsArray[i].substring(param.length + 1)
              }
            }
          }
        }
        }
    
        document
          .getElementById("sign-in-btn")
          .addEventListener("click", (event) => {
            const revertToOriginal = () => {
              const btn = document.getElementById("sign-in-btn");
              btn.innerHTML = "Sign in";
              btn.disabled = false;
            };
            event.preventDefault();
            const that = event.target;
    
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const url = BASE_URL + "public/v1/signin";
            if (!email || !password) {
              return;
            }
            that.innerHTML = "Signing In....";
            that.disabled = true;
            const data = {
              email: email,
              password: password,
              userType: "FREELANCER",
            };
            fetch(url, {
              method: "POST", // *GET, POST, PUT, DELETE, etc.
              cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
              credentials: "same-origin", // include, *same-origin, omit
              headers: {
                "Content-Type": "application/json",
              },
              redirect: "follow",
              body: JSON.stringify(data), // body data type must match "Content-Type" header
            })
              .then((response) => response.json())
              .then((data) => {
                revertToOriginal();
                if (data.error) {
                  throw Error(data.error);
                }
                let url = BASE_URL + "public/v1/redirect/dashboard?init=false&token=" + encodeURIComponent(data.token);
                if(data.accountId) {
                  url = url +  "&account-id=" + data.accountId;
                }
                const redirectTo = getRequestParam("redirect-to");
                if(redirectTo) {
                  url = url + "&redirect-to="+redirectTo;
                }
                window.location.replace(
                  url 
                );
              })
              .catch((error) => {
                $("div#error-div").show();
                revertToOriginal();
              });
          });
    
        function createCookie(name, value, days) {
          let expires;
          if (days) {
            var date = new Date();
            date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
            expires = "; expires=" + date.toGMTString();
          } else {
            expires = "";
          }
          document.cookie =
            encodeURIComponent(name) +
            "=" +
            encodeURIComponent(value) +
            expires +
            "; domain=." +
            location.hostname.split(".").reverse()[1] +
            "." +
            location.hostname.split(".").reverse()[0] +
            "; path=/";
        }
        if (location.search) {
          let params = location.search.substring(1); //removing ?
          if (params) {
            let paramsArray = params.split("&");
            for (let i = 0; i < paramsArray.length; i++) {
              if (
                paramsArray[i].startsWith("ref=") ||
                paramsArray[i].startsWith("via=")
              ) {
                createCookie(
                  "start-global-traffic-source",
                  paramsArray[i].substring(4),
                  7
                );
              }
            }
          }
        }
    
        function onSuccess(googleUser) {
          console.log(googleUser.tc);
    
          const revertToOriginal = () => {
            const btn = document.getElementById("sign-in-btn");
            btn.innerHTML = "Sign in";
            btn.disabled = false;
          };
          const that = document.getElementById("sign-in-btn");
          const url = BASE_URL + "public/signin/google";
          that.innerHTML = "Signing In....";
          that.disabled = true;
          const data = googleUser.tc;
          fetch(url, {
            method: "POST", // *GET, POST, PUT, DELETE, etc.
            cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
            credentials: "same-origin", // include, *same-origin, omit
            headers: {
              "Content-Type": "application/json",
            },
            redirect: "follow",
            body: JSON.stringify(data), // body data type must match "Content-Type" header
          })
            .then((response) => response.json())
            .then((data) => {
              revertToOriginal();
              if (data.error) {
                throw Error(data.error);
              }
              const url =
                BASE_URL + "public/rv1/edirect/dashboard?init=false&token=";
              window.location.replace(
                url + encodeURIComponent(data.token)
              );
            })
            .catch((error) => {
              $("div#error-div-sso").show();
              revertToOriginal();
            });
        }
        function onFailure(error) {
          console.log(error);
        }
        function renderButton() {
          console.log("render button");
          gapi.signin2.render("g-signin2", {
            scope: "profile email",
            width: 500,
            height: 50,
            longtitle: true,
            theme: "dark",
            onsuccess: onSuccess,
            onfailure: onFailure,
          });
        }
    
        var startApp = function () {
          gapi.load("auth2", function () {
            // Retrieve the singleton for the GoogleAuth library and set up the client.
            auth2 = gapi.auth2.init({
              client_id:
                "428490065932-k7p8mtf8d3402bp62aq10h9u5q9j7mje.apps.googleusercontent.com",
              cookiepolicy: "single_host_origin",
              // Request scopes in addition to 'profile' and 'email'
              //scope: 'additional_scope'
            });
            attachSignin(document.getElementById("sign-in-btn-google"));
          });
        };
        function attachSignin(element) {
          auth2.attachClickHandler(
            element,
            {},
            function (googleUser) {
              onSuccess(googleUser);
            },
            function (error) {
              const p = $("#error-div-sso>div.sg-message");
              switch (error.error) {
                case "idpiframe_initialization_failed":
                  p.text(
                    "O Please enable 3rd party cookies or continue with email and password."
                  );
                  $("div#error-div-sso").show();
                  break;
                case "popup_closed_by_user":
                  //setError("email", "", "Oh no!!!. Something terrible happened. Please try again later");
                  break;
                case "access_denied":
                  p.text(
                    "Oh no!!!. Access denied, Please continue with email and password."
                  );
                  $("div#error-div-sso").show();
                  break;
                case "immediate_failed":
                  //setError("email", "", "Oh no!!!. Something terrible happened. Please try again later");
                  break;
                default:
                  p.text(
                    "Oh no!!!. Something terrible happened. Please try later"
                  );
                  $("div#error-div-sso").show();
              }
            }
          );
        }
        //startApp();
    </script>
    <style>
    .loginBtn {
          box-sizing: border-box;
          position: relative;
          margin: 0.2em;
          border: none;
          text-align: left;
          white-space: nowrap;
          color: #fff;
        }
    
        .loginBtn:before {
          content: "";
          box-sizing: border-box;
          position: absolute;
          top: 0;
          left: 0;
          width: 34px;
          height: 100%;
        }
    
        .loginBtn:focus {
          outline: none;
        }
    
        .loginBtn:active {
          box-shadow: inset 0 0 0 32px rgba(0, 0, 0, 0.1);
        }
    
        /* Google */
        .loginBtn--google {
          background: #dd4b39;
        }
    
        .loginBtn--google:before {
          border-right: #bb3f30 1px solid;
          background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png") 6px 6px no-repeat;
        }
    
        .loginBtn--google:hover,
        .loginBtn--google:focus {
          background: #e74b37;
        }
    </style>
</body>

</html>